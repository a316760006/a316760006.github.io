(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03dfddbf"],{2570:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table"},[a("el-form",[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"入学时间",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}}),t._v(" "),a("el-input",{staticClass:"input_name",attrs:{placeholder:"名字"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),a("el-select",{staticClass:"input_name",attrs:{placeholder:"性别"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),t._v(" "),a("el-option",{attrs:{label:"女",value:"女"}})],1),t._v(" "),a("el-input",{staticClass:"input_name",attrs:{placeholder:"年龄"},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}}),t._v(" "),a("el-input",{staticClass:"input_name",attrs:{placeholder:"班级"},model:{value:t.form.class,callback:function(e){t.$set(t.form,"class",e)},expression:"form.class"}}),t._v(" "),a("el-select",{staticClass:"input_name",attrs:{placeholder:"专业"},model:{value:t.form.major,callback:function(e){t.$set(t.form,"major",e)},expression:"form.major"}},[a("el-option",{attrs:{label:"web架构",value:"web架构"}}),t._v(" "),a("el-option",{attrs:{label:"ui视觉设计",value:"ui视觉设计"}})],1),t._v(" "),a("el-input",{staticClass:"input_name",attrs:{placeholder:"成绩/门"},model:{value:t.form.result,callback:function(e){t.$set(t.form,"result",e)},expression:"form.result"}}),t._v(" "),a("el-input",{staticClass:"input_name",attrs:{placeholder:"挂科数/次"},model:{value:t.form.fail,callback:function(e){t.$set(t.form,"fail",e)},expression:"form.fail"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.queryStu}},[t._v("查询")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.queryShow,expression:"!queryShow"}],on:{click:t.clearStu}},[t._v("清空")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.queryShow,expression:"queryShow"}],on:{click:t.cancelStu}},[t._v("取消查询")])],1)],1),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table",attrs:{data:t.tableData,border:"",height:"500"}},[t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"入学时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"class",label:"班级"}}),t._v(" "),a("el-table-column",{attrs:{prop:"major",label:"专业"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"result",label:"成绩/门"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"fail",label:"挂科数/次"}}),t._v(" "),t.level>=3?[a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.modifystu(e.$index)}}},[t._v("修改")])]}}],null,!1,2508159429)}),t._v(" "),a("el-table-column",{attrs:{label:"删除"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.deletestu(e.$index)}}},[t._v("删除")])]}}],null,!1,1450640232)})]:t._e()],2)],1)])},l=[],o=(a("7f7f"),a("db72")),r=a("2f62"),s=a("4ec3"),i={data:function(){return{loading:!0,tableData:[],form:{date:"",name:"",sex:"",age:"",class:"",major:"",result:"",fail:""},queryShow:!1}},computed:Object(o["a"])({},Object(r["b"])(["level"])),mounted:function(){var t=this;this.loading=!0,Object(s["g"])().then((function(e){t.loading=!1,t.tableData=e.data}))},methods:{deletestu:function(t){var e=this,a=confirm("确认删除吗?");if(!0!==a)return!1;this.loading=!0;var n=this.tableData[t]._id;this.tableData.splice(t,1),Object(s["f"])(n).then((function(t){e.loading=!1,e.$message({showClose:!0,message:t.data,type:"warning"})}))},modifystu:function(t){var e=this.tableData[t]._id;this.$router.push({path:"/stumodify",query:{id:e}})},queryStu:function(){var t=this,e={};for(var a in this.form)""!==this.form[a]&&(e[a]=this.form[a]);this.loading=!0,""!==this.form.date||""!==this.form.name||""!==this.form.sex||""!==this.form.age||""!==this.form.class||""!==this.form.major||""!==this.form.result||""!==this.form.fail?Object(s["k"])(e).then((function(e){t.loading=!1,0===e.data.length?t.$message("没有查询到符合条件的数据"):(t.$message({message:"查询成功",type:"success"}),t.tableData=e.data,t.queryShow=!0)})):this.$message({message:"请写入查询条件",type:"warning"})},clearStu:function(){for(var t in this.form)this.form[t]=""},cancelStu:function(){var t=this;this.loading=!0,Object(s["g"])().then((function(e){for(var a in t.loading=!1,t.tableData=e.data,t.queryShow=!1,t.form)t.form[a]=""}))}}},u=i,c=(a("ab002"),a("2877")),f=Object(c["a"])(u,n,l,!1,null,"3f4ffe68",null);e["default"]=f.exports},"4ec3":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"h",(function(){return i})),a.d(e,"g",(function(){return u})),a.d(e,"c",(function(){return c})),a.d(e,"f",(function(){return f})),a.d(e,"k",(function(){return d})),a.d(e,"i",(function(){return m})),a.d(e,"d",(function(){return p})),a.d(e,"b",(function(){return b})),a.d(e,"e",(function(){return v})),a.d(e,"j",(function(){return h}));var n=a("db72"),l=a("bc3a"),o=a.n(l),r="http://127.0.0.1:8888",s=function(t){return o.a.post(r+"/addadmin",Object(n["a"])({},t))},i=function(t){return o.a.post(r+"/modifyadmin",Object(n["a"])({},t))},u=function(){return o.a.get(r+"/allstudent")},c=function(t){return o.a.post(r+"/addstudent",Object(n["a"])({},t))},f=function(t){return o.a.post(r+"/delstudent",{_id:t})},d=function(t){return o.a.post(r+"/querystudent",{_id:t})},m=function(t,e){return o.a.post(r+"/modifystudent",{_id:t,stuval:e})},p=function(){return o.a.post(r+"/allnewclass")},b=function(t){return o.a.post(r+"/addclass",Object(n["a"])({},t))},v=function(t){return o.a.post(r+"/delclass",{_id:t})},h=function(t){return o.a.post(r+"/queryclass",{_id:t})}},ab002:function(t,e,a){"use strict";var n=a("f66c"),l=a.n(n);l.a},f66c:function(t,e,a){}}]);